---
import type { Product } from "../../types/interface/product";
import { getBaseUrl } from "../../utils/getBaseURL";

interface Props {
  product: Product;
}

const { product } = Astro.props;
const orderedImages = product.orderedImages.sort((a, b) => a.order - b.order);
---

<section>
  {
    orderedImages.map((orderedImage, index) => (
      <img
        src={getBaseUrl() + orderedImage.image.url}
        alt={`product-image-gallery-${index}`}
      />
    ))
  }
</section>

<style>
  section {
    display: grid;
    margin-top: 160px;
    grid-template-columns: 41.25% 58.75%;
    grid-gap: 20px;
    height: 59.2rem;
    width: 100%;
    overflow: hidden;
  }
  img {
    border-radius: 8px;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  img:nth-of-type(1) {
    grid-column: 1/2;
  }
  img:nth-of-type(2) {
    grid-column: 1/2;
  }
  img:nth-of-type(3) {
    grid-column: 2/3;
    grid-row: 1 / span 2;
  }

  /* Tablet */
  @media (max-width: 58.25rem) {
    section {
      margin-top: 120px;
      height: 36.8rem;
      grid-template-rows: 50% 50%;
    }
  }

  /* Mobile */
  @media (max-width: 30rem) {
    section {
      margin-top: 88px;
      display: flex;
      flex-direction: column;
      height: 100%;
    }
  }
</style>
